\chapter{Static vs Singleton}

Both patterns are used to ensure that there is only one instance of a class or a set of shared resources.

\section{Static}
\begin{itemize}
    \item Loaded when the class is loaded and remain in memory until the lifetime of the application
\end{itemize}

\section{Static}
\begin{itemize}
    \item Loaded when the class is loaded and remain in memory until the lifetime of the application
\end{itemize}

\section{Singleton}
\begin{itemize}
    \item Ensures only one instance is created
    \item Instance is created once and lives until the end of the application, unless manually destroyed

    \begin{lstlisting}
public class Singleton {
    private static Singleton instance;
    
    private Singleton() {
        // private constructor prevents instantiation
    }
    
    public static Singleton getInstance() {
        if (instance == null) {
            instance = new Singleton();
        }
        return instance;
    }
}

Singleton instance = Singleton.getInstance(); // Same instance every time.

    \end{lstlisting}
\end{itemize}

\section{Differences}
\begin{itemize}
	\item Instantiation
	\begin{itemize}
		\item Static: No instantiation required. Fields and methods belong to the class, not the instance.
		\item Singleton: Only one instance is allowed. Instantiation happens when you call for it.			
	\end{itemize}
	
	\item State
	\begin{itemize}
		\item Static: As methods and fields belong to the class and not the instance. No control over instantiation.
		\item Singleton: More control over initialization			
	\end{itemize}
	
	\item Memory Lifetime
	\begin{itemize}
		\item Static: Lives until the end of the application
		\item Singleton: Can be explicitly destroyed. More control over the lifetime.		
	\end{itemize}
	
	\item Constructors
	\begin{itemize}
		\item Static: Does not have parameters, cannot control when it's called as its only called when the class is first accessed.
		\item Singleton: Private constructor to prevent external call, Lazily called as constructor is called when the singleton is first instantiated. The constructor is called only once.	
	\end{itemize}
\end{itemize}